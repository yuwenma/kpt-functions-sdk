apiVersion: v1
kind: Service
metadata: # kpt-merge: example1/the-service
  name: crd-svc
  namespace: new-example
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata: # kpt-merge: /the-crd
  name: the-crd
spec:
  conversion:
    strategy: Webhook
    webhook:
      clientConfig:
        service:
          name: crd-svc
          namespace: new-example
---
apiVersion: apiregistration.k8s.io/v1
kind: APIService
metadata: # kpt-merge: /the-api-service
  name: the-api-service
spec:
  service:
    name: api-svc
    namespace: example2
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata: # kpt-merge: /crb1
  name: crb1
subjects:
  - kind: ServiceAccount
    name: default
    namespace: new-example
